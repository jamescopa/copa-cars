<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Copa Cars Accesorios | Cat치logo</title>
    <link rel="icon" href="logo.jpg" type="image/x-icon">
    <style>
        /* --- CONFIGURACI칍N DE COLORES (ESTILO VISUAL) --- */
        :root {
            --color-primario: #FF8C00; /* Naranja de tu logo */
            --color-secundario: #000000; /* Negro */
            --color-fondo: #f4f4f4; /* Gris muy claro (limpio) */
            --color-tarjeta: #ffffff;
            --color-texto: #333333;
        }

        /* --- ESTILOS GENERALES (CSS) --- */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 0; background-color: var(--color-fondo); color: var(--color-texto); }
        a { text-decoration: none; color: inherit; }
        ul { list-style: none; padding: 0; }

        /* HEADER */
        header { background-color: var(--color-secundario); color: white; padding: 1rem; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.3); }
        .nav-container { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.5rem; font-weight: bold; color: var(--color-primario); display: flex; align-items: center; gap: 10px; }
        .logo img { height: 50px; border-radius: 5px; background: white; padding: 2px; }
        .cart-icon { position: relative; cursor: pointer; font-size: 1.2rem; background: var(--color-primario); padding: 8px 15px; border-radius: 20px; color: white; }
        .cart-count { background: red; color: white; border-radius: 50%; padding: 2px 6px; font-size: 0.8rem; position: absolute; top: -5px; right: -5px; }

        /* CARRUSEL DE IM츼GENES */
        .carousel { position: relative; max-width: 100%; height: 300px; overflow: hidden; background: #ddd; }
        .carousel-track { display: flex; transition: transform 0.5s ease-in-out; height: 100%; }
        .carousel-slide { min-width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; background-size: cover; background-position: center; }
        .carousel-slide h2 { background: rgba(0,0,0,0.6); color: white; padding: 10px 20px; border-radius: 5px; }

        /* FILTROS / CATEGOR칈AS */
        .filters { max-width: 1200px; margin: 20px auto; padding: 0 10px; display: flex; gap: 10px; overflow-x: auto; white-space: nowrap; padding-bottom: 10px; }
        .filter-btn { background: white; border: 1px solid #ddd; padding: 10px 20px; border-radius: 20px; cursor: pointer; transition: 0.3s; }
        .filter-btn:hover, .filter-btn.active { background: var(--color-primario); color: white; border-color: var(--color-primario); }

        /* GRID DE PRODUCTOS */
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .products-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
        
        /* TARJETA DE PRODUCTO */
        .product-card { background: var(--color-tarjeta); border-radius: 10px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); transition: transform 0.2s; display: flex; flex-direction: column; }
        .product-card:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .product-image { width: 100%; height: 200px; object-fit: cover; background: #eee; }
        .product-info { padding: 15px; flex-grow: 1; display: flex; flex-direction: column; }
        .product-cat { font-size: 0.8rem; color: #888; text-transform: uppercase; margin-bottom: 5px; }
        .product-title { font-size: 1.1rem; margin: 0 0 10px 0; font-weight: bold; }
        .product-brand { font-size: 0.9rem; color: var(--color-primario); font-weight: bold; margin-bottom: 5px;}
        .product-price { font-size: 1.3rem; color: var(--color-secundario); font-weight: bold; margin-bottom: 10px; }
        .stock-tag { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: bold; margin-bottom: 10px; }
        .in-stock { background: #d4edda; color: #155724; }
        .out-stock { background: #f8d7da; color: #721c24; }
        
        /* SELECCI칍N DE VARIANTE (COLOR) */
        .variant-selector { margin-bottom: 10px; }
        .variant-selector select { width: 100%; padding: 5px; border-radius: 5px; border: 1px solid #ddd; }

        .add-btn { margin-top: auto; background: var(--color-secundario); color: white; border: none; padding: 10px; width: 100%; border-radius: 5px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .add-btn:hover { background: var(--color-primario); }
        .add-btn:disabled { background: #ccc; cursor: not-allowed; }

        /* MODAL DEL CARRITO */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; justify-content: center; align-items: center; }
        .modal-content { background: white; width: 90%; max-width: 500px; padding: 20px; border-radius: 10px; max-height: 80vh; overflow-y: auto; position: relative; }
        .close-modal { position: absolute; top: 15px; right: 20px; font-size: 1.5rem; cursor: pointer; }
        .cart-item { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding: 10px 0; }
        .cart-total { text-align: right; font-size: 1.2rem; font-weight: bold; margin-top: 20px; }
        .checkout-btn { display: block; width: 100%; background: #25D366; color: white; text-align: center; padding: 15px; margin-top: 15px; border-radius: 5px; font-weight: bold; font-size: 1.1rem; }
        
        /* FOOTER */
        footer { text-align: center; padding: 20px; background: #333; color: white; margin-top: 40px; }

        /* RESPONSIVE */
        @media (max-width: 600px) {
            .filters { padding-bottom: 15px; } /* Mejor scroll en m칩vil */
            .carousel { height: 200px; }
        }
    </style>
</head>
<body>

    <header>
        <div class="nav-container">
            <div class="logo">
                <img src="logo.jpg" alt="Logo" onerror="this.style.display='none'">
                <span>COPA CARS</span>
            </div>
            <div class="cart-icon" onclick="openCart()">
                游 <span id="cart-count" class="cart-count">0</span>
            </div>
        </div>
    </header>

    <div class="carousel">
        <div class="carousel-track" id="carousel-track">
            </div>
    </div>

    <div class="filters" id="category-filters">
        <button class="filter-btn active" onclick="filterProducts('all')">Todos</button>
        </div>

    <div class="container">
        <div class="products-grid" id="products-grid">
            </div>
    </div>

    <footer>
        <p>춸 2024 Copa Cars Accesorios - Ecuador</p>
        <p>WhatsApp: +593 98 037 0222</p>
    </footer>

    <div class="modal" id="cart-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeCart()">&times;</span>
            <h2>Tu Carrito 游</h2>
            <div id="cart-items">
                <p>Tu carrito est치 vac칤o.</p>
            </div>
            <div class="cart-total" id="cart-total">Total: $0.00</div>
            <a href="#" class="checkout-btn" id="checkout-btn" onclick="checkout()">Realizar Pedido por WhatsApp</a>
        </div>
    </div>

    <script>
        /* =============================================================
           츼REA DE CONFIGURACI칍N - 춰EDITA AQU칈 TUS DATOS!
           ============================================================= */
        
        const PHONE_NUMBER = "593980370222"; // Tu n칰mero sin el +
        
        // Configura aqu칤 las im치genes del carrusel (Portada)
        // Puedes poner links de internet o nombres de archivos locales
        const SLIDES = [
            { image: "https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?auto=format&fit=crop&w=1000&q=80", text: "Accesorios de Lujo" },
            { image: "https://images.unsplash.com/photo-1562426503-12e6fd634081?auto=format&fit=crop&w=1000&q=80", text: "La mejor iluminaci칩n LED" },
            { image: "https://images.unsplash.com/photo-1486262715619-67b85e0b08d3?auto=format&fit=crop&w=1000&q=80", text: "Personaliza tu estilo" }
        ];

        /* --- LISTA DE PRODUCTOS ---
           Formato: 
           id: n칰mero 칰nico
           name: Nombre del producto
           price: Precio en n칰meros (sin $)
           category: Categor칤a exacta
           image: URL de la foto (o nombre de archivo local)
           stock: true (hay) o false (no hay)
           brand: Marca (opcional)
           variants: Lista de colores o opciones (separados por coma)
        */
        const products = [
            {
                id: 1,
                name: "Tubo de Escape Deportivo",
                price: 10.00,
                category: "Accesorios Exterior",
                image: "https://m.media-amazon.com/images/I/61b7b7v+LIL._AC_SL1000_.jpg", // Ejemplo foto internet
                stock: true,
                brand: "Sparco",
                variants: ["Azul", "Rojo", "Gris"]
            },
            {
                id: 2,
                name: "Luces LED Ne칩n",
                price: 25.50,
                category: "Luces led",
                image: "https://m.media-amazon.com/images/I/71wPj-s+LBL._AC_SL1500_.jpg",
                stock: true,
                brand: "Gen칠rico",
                variants: ["RGB", "Blanco Fr칤o"]
            },
            {
                id: 3,
                name: "Forro de Volante Cuero",
                price: 15.00,
                category: "Accesorios interior",
                image: "https://m.media-amazon.com/images/I/71O0R9t0+dL._AC_SL1500_.jpg",
                stock: false, // NO DISPONIBLE
                brand: "Momo",
                variants: ["Negro Costura Roja", "Negro Total"]
            },
            {
                id: 4,
                name: "Radio Pantalla 7pulg",
                price: 85.00,
                category: "Radios",
                image: "https://m.media-amazon.com/images/I/61+2z6s2+uL._AC_SL1000_.jpg",
                stock: true,
                brand: "Pioneer",
                variants: ["Est치ndar"]
            },
            {
                id: 5,
                name: "Polarizado Nano-Cer치mica",
                price: 60.00,
                category: "Polarizado",
                image: "https://images.unsplash.com/photo-1621996659490-3275b4d0d951?auto=format&fit=crop&w=500&q=60",
                stock: true,
                brand: "3M",
                variants: ["5%", "20%", "35%"]
            },
            {
                id: 6,
                name: "Kit de Limpieza Interior",
                price: 12.00,
                category: "Ambiental",
                image: "https://images.unsplash.com/photo-1601362840469-51e4d8d58785?auto=format&fit=crop&w=500&q=60",
                stock: true,
                brand: "Meguiars",
                variants: ["Lim칩n", "Auto Nuevo"]
            }
        ];

        /* =============================================================
           FIN DE CONFIGURACI칍N - NO NECESITAS TOCAR NADA ABAJO
           ============================================================= */

        let cart = [];
        
        // 1. Cargar Carrusel
        const track = document.getElementById('carousel-track');
        SLIDES.forEach(slide => {
            const div = document.createElement('div');
            div.className = 'carousel-slide';
            div.style.backgroundImage = `url('${slide.image}')`;
            div.innerHTML = `<h2>${slide.text}</h2>`;
            track.appendChild(div);
        });
        
        // Animaci칩n simple carrusel
        let slideIndex = 0;
        setInterval(() => {
            slideIndex = (slideIndex + 1) % SLIDES.length;
            track.style.transform = `translateX(-${slideIndex * 100}%)`;
        }, 4000);

        // 2. Generar Categor칤as din치micamente
        const categories = [...new Set(products.map(p => p.category))];
        const filterContainer = document.getElementById('category-filters');
        
        categories.forEach(cat => {
            const btn = document.createElement('button');
            btn.className = 'filter-btn';
            btn.innerText = cat;
            btn.onclick = () => filterProducts(cat);
            filterContainer.appendChild(btn);
        });

        // 3. Renderizar Productos
        function renderProducts(filter = 'all') {
            const grid = document.getElementById('products-grid');
            grid.innerHTML = '';
            
            // Actualizar botones de filtro
            document.querySelectorAll('.filter-btn').forEach(b => {
                if(filter === 'all' && b.innerText === 'Todos') b.classList.add('active');
                else if(b.innerText === filter) b.classList.add('active');
                else b.classList.remove('active');
            });

            const filtered = filter === 'all' ? products : products.filter(p => p.category === filter);

            filtered.forEach(p => {
                // Crear opciones de variantes (colores)
                let optionsHtml = '';
                if(p.variants && p.variants.length > 0) {
                    optionsHtml = `<div class="variant-selector">
                        <small>Opci칩n:</small>
                        <select id="variant-${p.id}">
                            ${p.variants.map(v => `<option value="${v}">${v}</option>`).join('')}
                        </select>
                    </div>`;
                }

                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <img src="${p.image}" alt="${p.name}" class="product-image">
                    <div class="product-info">
                        <div class="product-cat">${p.category}</div>
                        <div class="product-title">${p.name}</div>
                        ${p.brand ? `<div class="product-brand">${p.brand}</div>` : ''}
                        <div class="product-price">$${p.price.toFixed(2)}</div>
                        
                        ${p.stock 
                            ? `<span class="stock-tag in-stock">Disponible</span>` 
                            : `<span class="stock-tag out-stock">Agotado</span>`
                        }
                        
                        ${p.stock ? optionsHtml : ''}
                        
                        <button class="add-btn" 
                            ${!p.stock ? 'disabled' : ''} 
                            onclick="addToCart(${p.id})">
                            ${p.stock ? 'Agregar al Carrito' : 'Sin Stock'}
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // 4. L칩gica del Carrito
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            const variantSelect = document.getElementById(`variant-${id}`);
            const selectedVariant = variantSelect ? variantSelect.value : 'Est치ndar';
            
            // Crear ID 칰nico para producto + variante
            const cartItemId = `${id}-${selectedVariant}`;
            const existingItem = cart.find(item => item.cartId === cartItemId);

            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({
                    ...product,
                    cartId: cartItemId,
                    selectedVariant: selectedVariant,
                    quantity: 1
                });
            }
            updateCartUI();
            openCart(); // Opcional: abrir carrito al agregar
        }

        function removeFromCart(cartId) {
            cart = cart.filter(item => item.cartId !== cartId);
            updateCartUI();
        }

        function updateCartUI() {
            document.getElementById('cart-count').innerText = cart.reduce((acc, item) => acc + item.quantity, 0);
            
            const itemsContainer = document.getElementById('cart-items');
            itemsContainer.innerHTML = '';
            
            let total = 0;
            
            if (cart.length === 0) {
                itemsContainer.innerHTML = '<p>Tu carrito est치 vac칤o.</p>';
                document.getElementById('checkout-btn').style.display = 'none';
            } else {
                document.getElementById('checkout-btn').style.display = 'block';
                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    total += itemTotal;
                    itemsContainer.innerHTML += `
                        <div class="cart-item">
                            <div>
                                <strong>${item.name}</strong> <br>
                                <small>${item.selectedVariant}</small> <br>
                                <small>$${item.price.toFixed(2)} x ${item.quantity}</small>
                            </div>
                            <div style="text-align:right">
                                <div>$${itemTotal.toFixed(2)}</div>
                                <small style="color:red; cursor:pointer" onclick="removeFromCart('${item.cartId}')">Eliminar</small>
                            </div>
                        </div>
                    `;
                });
            }
            document.getElementById('cart-total').innerText = `Total: $${total.toFixed(2)}`;
        }

        function openCart() { document.getElementById('cart-modal').style.display = 'flex'; }
        function closeCart() { document.getElementById('cart-modal').style.display = 'none'; }

        // 5. Checkout WhatsApp
        function checkout() {
            if (cart.length === 0) return;
            
            let message = "Hola Copa Cars, quiero realizar el siguiente pedido:%0A%0A";
            let total = 0;
            
            cart.forEach(item => {
                const subtotal = item.price * item.quantity;
                total += subtotal;
                message += `郊쀮잺 ${item.quantity}x ${item.name} (${item.selectedVariant}) - $${subtotal.toFixed(2)}%0A`;
            });
            
            message += `%0A*TOTAL A PAGAR: $${total.toFixed(2)}*`;
            message += "%0A%0APor favor conf칤rmeme disponibilidad y m칠todo de pago.";
            
            const url = `https://wa.me/${PHONE_NUMBER}?text=${message}`;
            window.open(url, '_blank');
        }

        // Cerrar modal si clic fuera
        window.onclick = function(event) {
            const modal = document.getElementById('cart-modal');
            if (event.target == modal) closeCart();
        }

        // Inicializar
        renderProducts();

    </script>
</body>
</html>
